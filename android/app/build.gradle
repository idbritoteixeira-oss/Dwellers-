plugins {
    id "com.android.application"
    id "org.jetbrains.kotlin.android"
    id "dev.flutter.flutter-gradle-plugin"
}

android {
    namespace = "com.example.workspace"
    compileSdk = 33

compileOptions {
    sourceCompatibility = JavaVersion.VERSION_17
    targetCompatibility = JavaVersion.VERSION_17
}

kotlinOptions {
    jvmTarget = "17"
}

defaultConfig {
    applicationId = "com.example.workspace"
    minSdk = 21
    targetSdk = 33
    versionCode = 1
    versionName = "1.0"
    // multiDexEnabled true // descomente se necessário
}

signingConfigs {
    // Permite assinar release com a mesma config debug (apenas para builds locais/CI de teste)
    debug {}
}

buildTypes {
    release {
        signingConfig = signingConfigs.debug
        shrinkResources false
        minifyEnabled false
    }
}

packagingOptions {
    resources {
        excludes += [
            "META-INF/DEPENDENCIES",
            "META-INF/LICENSE",
            "META-INF/LICENSE.txt",
            "META-INF/license.txt",
            "META-INF/NOTICE",
            "META-INF/NOTICE.txt",
            "META-INF/notice.txt"
        ]
        pickFirsts += [
            "META-INF/*.kotlin_module"
        ]
    }
}

// buildToolsVersion = "33.0.2" // descomente se precisar fixar a versão               "META-INF/NOTICE",
                "META-INF/NOTICE.txt",
                "META-INF/notice.txt"
            ]
        }
    }
}

flutter {
    source = "../.."
}

dependencies {
    // Força stdlib compatível com Kotlin 1.9
    implementation "org.jetbrains.kotlin:kotlin-stdlib:1.9.0"
    implementation "androidx.core:core-ktx:1.10.1"
}